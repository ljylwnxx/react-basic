{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport channel from '../../mock/channels.json';\nconst channelStore = createSlice({\n  name: 'channel',\n  // 初始化state\n  initialState: {\n    channelList: []\n  },\n  // 修改状态的方法 同步方法 支持直接修改\n  reducers: {\n    setChannels(state, action) {\n      state.channelList = action.payload;\n    }\n  }\n});\n// 异步请求部分\nconst {\n  setChannels\n} = channelStore.actions;\nconst fetchChannelList = () => {\n  return async dispatch => {\n    const res = await axios.get(channel);\n    console.log(res, 'data');\n    dispatch(setChannels(res.data.data.channels));\n  };\n};\n\n// 按需导出actionCreater\nexport { fetchChannelList };\nconst reducer = channelStore.reducer;\n// 默认导出reducer\nexport default reducer;","map":{"version":3,"names":["createSlice","axios","channel","channelStore","name","initialState","channelList","reducers","setChannels","state","action","payload","actions","fetchChannelList","dispatch","res","get","console","log","data","channels","reducer"],"sources":["/Users/admin/Desktop/噗噗-wnxx/react-basic/react-redux/src/store/modules/channelStore.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\nimport channel from '../../mock/channels.json'\n\nconst channelStore = createSlice({\n  name: 'channel',\n  // 初始化state\n  initialState: {\n    channelList: []\n  },\n  // 修改状态的方法 同步方法 支持直接修改\n  reducers: {\n    setChannels (state, action) {\n      state.channelList = action.payload\n    }\n  }\n})\n// 异步请求部分\nconst { setChannels } = channelStore.actions\nconst fetchChannelList = () => {\n  return async (dispatch) => {\n    const res = await axios.get(channel)\n    console.log(res, 'data')\n    dispatch(setChannels(res.data.data.channels))\n  }\n\n}\n\n// 按需导出actionCreater\nexport { fetchChannelList }\n\nconst reducer = channelStore.reducer\n// 默认导出reducer\nexport default reducer"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,0BAA0B;AAE9C,MAAMC,YAAY,GAAGH,WAAW,CAAC;EAC/BI,IAAI,EAAE,SAAS;EACf;EACAC,YAAY,EAAE;IACZC,WAAW,EAAE;EACf,CAAC;EACD;EACAC,QAAQ,EAAE;IACRC,WAAWA,CAAEC,KAAK,EAAEC,MAAM,EAAE;MAC1BD,KAAK,CAACH,WAAW,GAAGI,MAAM,CAACC,OAAO;IACpC;EACF;AACF,CAAC,CAAC;AACF;AACA,MAAM;EAAEH;AAAY,CAAC,GAAGL,YAAY,CAACS,OAAO;AAC5C,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC7B,OAAO,MAAOC,QAAQ,IAAK;IACzB,MAAMC,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAG,CAACd,OAAO,CAAC;IACpCe,OAAO,CAACC,GAAG,CAACH,GAAG,EAAE,MAAM,CAAC;IACxBD,QAAQ,CAACN,WAAW,CAACO,GAAG,CAACI,IAAI,CAACA,IAAI,CAACC,QAAQ,CAAC,CAAC;EAC/C,CAAC;AAEH,CAAC;;AAED;AACA,SAASP,gBAAgB;AAEzB,MAAMQ,OAAO,GAAGlB,YAAY,CAACkB,OAAO;AACpC;AACA,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}